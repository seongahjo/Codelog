+++
categories = ["데이터베이스"]
date = "2018-10-01T05:27:28+00:00"
description = ""
draft = true
tags = ["데이터베이스", "DB", "트랜잭션"]
title = "트랜잭션"

+++
## 트랜잭션

> 데이터 베이스의 상태를 변화시키기 위해 수행하는 작업의 단위

### 트랜잭션이 보장해야하는 ACID

#### 원자성 (Atomicity)

한 트랜잭션 내에서 실행한 작업들은 하나의 작업으로 간주한다. 모두 성공 또는 모두 실패되어야 한다. (All or Nothing)

#### 일관성 (Consistency)

모른 트랜잭션은 일관성 있는 데이터베이스 상태를 유지한다.

트랜잭션 전이나 후에 데이터베이스에 정의된 규칙, 제약(Constraints)들이 지켜져야 한다.

#### 격리성 (Isolation)

동시에 실행되는 트랜잭션들이 서로 영향을 미치지 않도록 격리 해야한다.

##### 격리성 관련 문제점

###### Dirty Read

한 트랜잭션(T1)이 데이터에 접근하여 값을 'A'에서 'B'로 변경했고 아직 커밋을 하지 않았을 때 다른 트랜잭션(T2)가 해당 데이터를 Read하면 T2가 읽은 데이터는 B가 될 것이다. 하지만 T1이 커밋을 하지 않고 종료한다면 T2가 가진 데이터는 꼬이게 된다.

###### Non-Repeatable Read

한 트랜잭션(T1)이 데이터를 Read하고 있다. 이때 다른 트랜잭션(T2)가 데이터에 접근하여 값을 변경 또는 삭제하고 커밋을 한다. 그 후 T1이 다시 해당 데이터를 Read하고자 하면 변경된 데이터 혹은 사라진 데이터를 찾게 된다.

##### 격리레벨

#### 지속성 (Durability)

트랜잭션을 성공적으로 마치면 그 결과는 항상 저장되어야 한다.